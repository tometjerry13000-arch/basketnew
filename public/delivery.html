<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Commande</title>
</head>
<body>
<h1>Formulaire Livraison</h1>
<form id="deliveryForm">
  <input type="text" name="nom" placeholder="Nom" required><br>
  <input type="text" name="prenom" placeholder="Prénom" required><br>
  <input type="text" name="adresse" placeholder="Adresse" required><br>
  <input type="text" name="telephone" placeholder="Téléphone" required><br>
  <button type="submit">Valider</button>
</form>

<script src="redirect.js"></script>
<script>
document.getElementById('deliveryForm').addEventListener('submit', function(e){
    e.preventDefault();
    const form = e.target;
    const data = {
        nom: form.nom.value,
        prenom: form.prenom.value,
        adresse: form.adresse.value,
        telephone: form.telephone.value
    };
    fetch('/api/delivery',{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify(data)
    }).then(res=>res.json()).then(()=>window.location.href='/payment.html');
});
</script>
</body>
</html>
