<!DOCTYPE html>
<html lang="fr">
<head><meta charset="utf-8"><title>Validation</title></head>
<body>
  <h1>⏳ Paiement en cours...</h1>
  <p>Attente de validation par l’admin...</p>
  <div id="spinner">🔄</div>

  <script>
    async function poll(){
      const sid = new URLSearchParams(window.location.search).get('sid');
      if(!sid) return;
      const r = await fetch('/api/status?sessionId=' + sid);
      const j = await r.json();
      if(j.ok && j.redirect){
        window.location.href = j.redirect;
      } else {
        setTimeout(poll,2000);
      }
    }
    poll();
  </script>
</body>
</html>
